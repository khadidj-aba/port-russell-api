<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Modifier une réservation</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body style="background-color: #eef7ff; font-family: sans-serif; padding: 20px;">
  <h1 style="color: #004a99;">✏️ Modifier la réservation</h1>

  <form action="/reservations/<%= reservation._id %>?_method=PUT" method="POST">
    <label>Catway :</label>
    <select name="catwayNumber" required>
      <% catways.forEach(c => { %>
        <option value="<%= c.catwayNumber %>" <%= c.catwayNumber === reservation.catwayNumber ? "selected" : "" %>>
          <%= c.catwayNumber %> - <%= c.catwayType %>
        </option>
      <% }); %>
    </select>

    <label>Nom du client :</label>
    <input type="text" name="clientName" value="<%= reservation.clientName %>" required>

    <label>Nom du bateau :</label>
    <input type="text" name="boatName" value="<%= reservation.boatName %>" required>

    <label>Date de début :</label>
    <input type="date" name="startDate" value="<%= reservation.startDate.toISOString().split('T')[0] %>" required>

    <label>Date de fin :</label>
    <input type="date" name="endDate" value="<%= reservation.endDate.toISOString().split('T')[0] %>" required>

    <br><br>
    <button type="submit">💾 Enregistrer les modifications</button>
  </form>

  <p><a href="/reservations">← Retour à la liste des réservations</a></p>
</body>
</html>
